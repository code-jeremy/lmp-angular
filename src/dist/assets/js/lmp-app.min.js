!function(){"use strict";angular.module("lmpAudio",["ngStorage"])}();
!function(){"use strict";function t(t,l,a,i,e,r){const d={howl:!1,display:{progress:"0:00",duration:"0:00",width:0},error:t=>l.state="idle",find_track:t=>{d.pause(),e.search(t).then(t=>t?d.play(t):d.error("Track not found"))},play:e=>{l.current=e,l.loading=e.id,l.state="loading",d.audio&&(d.step_timeout&&t.cancel(d.step_timeout),d.audio.unload(),d.display.duration=!1,d.display.progress=!1,d.width=!1),d.audio=new Howl({src:[e.url],ext:["mp3"],autoplay:!0,html5:!0,onplay:()=>{e.progress&&d.audio.seek(e.progress);let t=d.format_time(Math.round(d.audio.duration()));l.current.duration_display&&t===l.current.duration_display||"lmp-radio"===e.id||i.update(e.id,t).then(t=>t),l.current.duration_display=d.display.duration=t,d.step(),l.loading="",l.state="playing",r.ga("send","event","Audio","Plays","lmp-radio"===e.id?"LMPRadio":`${e.id} | ${e.title}`),"lmp-radio"!==e.id&&a.addPlay(e.id).then(t=>{if(t.plays)for(let a=0;a<l.playlist.length;a+=1)e.id===l.playlist[a].id&&(l.playlist[a].plays=t.plays)})},onload:()=>{},onend:()=>d.skip("next"),onpause:()=>{l.loading="",l.state="idle"},onstop:()=>{l.loading="",l.state="idle"},loaderror:()=>(l.loading="",l.state="idle",d.error("Track couldn't be played"))})},pause:()=>{d.audio&&d.audio.playing()&&d.audio.pause(d.audio._sounds[0]._id)},resume:()=>{d.audio?d.audio.playing()||d.audio.play(d.audio._sounds[0]._id):d.play(l.current)},skip:t=>{if(d.pause(),l.current&&1===l.playlist.length&&l.playlist[0].id===l.current.id)return;0===l.playlist.length&&l.queue.length>0&&(l.playlist=l.queue,l.queue=[]);let a=0;switch(t){case"prev":if(l.current)for(a=0;a<l.playlist.length;a+=1){if(0===a&&l.current.id===l.playlist[a].id)return d.play(l.playlist[l.playlist.length-1]);if(a>0&&l.playlist[a].id===l.current.id)return d.play(l.playlist[a-1])}else if(l.playlist.length>0)return d.play(l.playlist[l.playlist.length-1]);if(l.playlist.length>0)return d.play(l.playlist[l.playlist.length-1]);break;case"next":if(l.current)for(a=0;a<l.playlist.length;a+=1){if(a+1===l.playlist.length&&l.current.id===l.playlist[a].id)return d.play(l.playlist[0]);if(a+1<l.playlist.length&&l.current.id===l.playlist[a].id)return d.play(l.playlist[a+1])}else if(l.playlist.length>0)return d.play(l.playlist[0]);if(l.playlist.length>0)return d.play(l.playlist[0])}},volume:()=>{},seek:t=>{if(d.audio){let l=d.audio.duration();d.audio.seek(Math.round(l/100*t),d.audio._sounds[0]._id)}},step:()=>{d.step_timeout=t(()=>{let t=d.audio.seek()||0;d.display.width=t/d.audio.duration()*100||0,l.current.progress=t,d.display.progress=d.format_time(Math.round(t)),d.audio.playing()&&d.step()},500)},format_time:t=>{let l=Math.floor(t/3600),a=Math.floor((t-3600*l)/60);for(t-=3600*l+60*a,t+="",a+=":";t.length<2;)t=`0${t}`;return`${l=l?`${l}:`:""}${a=l.length>0&&a.length<3?`0${a}`:a}${t}`}};return d}angular.module("lmpAudio").factory("lmpPlayer",t),t.$inject=["$timeout","$localStorage","playsFactory","durationFactory","lmpTrackFinder","$window"]}();
!function(){"use strict";function t(t,a,r,l){return{search:r=>a((a,o)=>{"lmp-radio"===r&&a({id:"lmp-radio",title:"LMP Radio",artwork:"https://www.iamlmp.com/assets/img/artwork/lmp-radio-artwork.png",artwork_large:"https://www.iamlmp.com/assets/img/artwork/lmp-radio-artwork.png",artwork_small:"https://www.iamlmp.com/assets/img/artwork/lmp-radio-artwork.png",url:"http://lmpfm.domint.net:8016/;stream.mp3"});for(let l=0;l<t.playlist.length;l+=1)r===t.playlist[l].id&&a(t.playlist[l]);for(let l=0;l<t.queue.length;l+=1)r===t.queue[l].id&&(t.playlist=t.queue,t.queue=[],a(t.playlist[l]));l(()=>{t.loading="",t.state="playing",o("Oops... something went wrong")})})}}angular.module("lmpAudio").factory("lmpTrackFinder",t),t.$inject=["$localStorage","$q","$log","$timeout"]}();
!function(){"use strict";angular.module("lmp",["ngAnimate","ngSanitize","ui.router","ngStorage","as.sortable","angularModalService","720kb.socialshare","rzModule","vcRecaptcha","lmpAudio","cfp.loadingBar"])}();
!function(){"use strict";function t(t,e,s,a,o,i,r,n,c){c.debugInfoEnabled(!1),c.commentDirectivesEnabled(!1),c.cssClassDirectivesEnabled(!1),n.debugEnabled(!1),r.decorator("$log",["$delegate",t=>(t.warn=t.info=t.error=t.debug=angular.noop,t)]),o.setKeyPrefix("iamlmp_"),s.html5Mode(!0),e.otherwise("page"),e.rule((t,e)=>{const s=e.path();if("/"===s[s.length-1])return s.substr(0,s.length-1)}),t.state("main",mainConfig()).state("home",homeConfig()).state("albums",albumsConfig()).state("album",albumConfig()).state("track",trackConfig("tracks")).state("tracks",tracksConfig("tracks")).state("mix",trackConfig("mixes")).state("mixes",tracksConfig("mixes")).state("mixtape",trackConfig("mixtapes")).state("mixtapes",tracksConfig("mixtapes")).state("live-track",trackConfig("live-tracks")).state("live-tracks",tracksConfig("live-tracks")).state("chart",chartConfig()).state("charts",chartsConfig()).state("podcast",podcastConfig()).state("podcasts",podcastsConfig()).state("artist",artistConfig("artists")).state("artists",artistsConfig("artists")).state("djs",artistsConfig("djs")).state("dj",artistConfig("djs")).state("playlist",playlistConfig()).state("article",articleConfig()).state("news",newsConfig()).state("videos",videosConfig()).state("queue",queueConfig()).state("password-reset",passwordResetConfig()).state("login",loginConfig()).state("user-change-password",changePasswordConfig()).state("user-account",accountConfig()).state("user-profile",profileConfig()).state("user-playlist",userPlaylistConfig()).state("user-playlists",userPlaylistsConfig()).state("user-favorites",favoritesConfig()).state("user-order",orderConfig()).state("user-orders",ordersConfig()).state("user-review-order",reviewOrderConfig()).state("user-checkout",checkoutConfig()).state("record-pool-device",recordPoolDeviceConfig()).state("contact",pageConfig(!0)).state("page",pageConfig()).state("page-not-found",pageNotFoundConfig()),a.interceptors.push("authInjector"),a.interceptors.push("errorInjector"),a.defaults.useXDomain=!0,i.resourceUrlWhitelist(["self","*://www.iamlmp.com/**","*://lmp-api.circular.one/**","*://lmp-api.dev/**",new RegExp("^(http[s]?)://(w{3}.)?youtube.com/.+$"),new RegExp("^(http[s]?)://(w{3}.)?vimeo.com/.+$"),new RegExp("^(http[s]?)://(w{3}.)?dailymotion.com/.+$"),new RegExp("^(http[s]?)://(w{3}.)?domint.net/.+$"),new RegExp("^(http[s]?)://(w{3}.)?p.jwpcdn.com/.+$"),new RegExp("^(http[s]?)://(w{3}.)?jwpsrv.com/.+$")])}angular.module("lmp").config(t),t.$inject=["$stateProvider","$urlRouterProvider","$locationProvider","$httpProvider","$localStorageProvider","$sceDelegateProvider","$provide","$logProvider","$compileProvider"]}();
!function(){"use strict";function e(e,t,a,o,n,i,l){if(function e(){window.ga?"www.iamlmp.com"===window.location.hostname?window.ga("create","UA-3088252-2","auto"):window.ga("create","UA-101506024-1","auto"):l(e(),500)}(),e.base_url="https://api.iamlmp.com/wp-json",n.queue=n.queue||[],n.view_track=n.view_track||!1,n.playlist=n.playlist||[],n.playlist_track=!1,n.share=null,n.loading=null,n.state="idle",n.current&&(n.current.playing=!1),o.hash()&&o.hash().indexOf("access_token")>-1){const e=o.hash().split("&");let a,n;for(let t=0;t<e.length;t+=1){let o=e[t].split("=");switch(o[0]){case"access_token":o[1]&&(a=o[1]);break;case"expires_in":o[1]&&(n=parseInt(o[1],10))}}if(t.location.hash="",a&&n){const e={access_token:a,expires_in:n,token_created:i.timenow()};i.profile(e).then(e=>{})}}n.access_token&&delete n.access_token,n.autn&&(delete n.autn,n.profile&&delete n.profile,a.reload())}angular.module("lmp").run(e),e.$inject=["$rootScope","$window","$state","$location","$localStorage","authFactory","$timeout"]}();
!function(){"use strict";angular.module("lmp").component("album",{bindings:{content:"<"},controller:["$localStorage","$timeout","lmpPlayer",function(t,i,e){this.storage=t,this.$onInit=(()=>{t.queue=[...this.storage.queue,...this.content.tracks],this.track_ids=this.content.tracks.map(t=>t.id)}),this.toggle_audio=(()=>{this.track_ids.indexOf(t.current.id)>-1&&"playing"===t.state?e.pause():this.track_ids.indexOf(t.current.id)>-1&&"playing"!==t.state?e.find_track(t.current.id):this.track_ids.length>0&&e.find_track(this.track_ids[0])})}],templateUrl:"/views/album.html"})}();
const albumConfig=()=>({url:"/albums/:albumSlug",parent:"main",resolve:{content:["albumFactory","$stateParams","metaService",(t,e,n)=>t.getAlbums(!1,e.albumSlug).then(t=>(n.setProperties({title:`${t.title} | EnVivo | LMP`,image:t.artwork_large}),t))]},views:{"content@main":{component:"album",bindings:{content:"content"}}}});
!function(){"use strict";angular.module("lmp").component("albums",{bindings:{content:"<"},templateUrl:"/views/albums.html"})}();
const albumsConfig=()=>({url:"/albums?page",parent:"main",resolve:{content:["albumFactory","$stateParams","metaService",(e,t,n)=>e.getAlbums(t.page||1).then(e=>(n.setProperties({title:`${t.page&&parseInt(t.page,10)>1?"Page "+t.page+" | ":""}En Vivo | LMP`}),e))]},views:{"content@main":{component:"albums",bindings:{content:"content"}}}});
!function(){"use strict";function t(t,e,a){return{getAlbums:function(n,r){let u=`?per_page=12&page=${n=n||1}`;(r=r||!1)&&(u=`?name=${r}`);return t.get(`${e.base_url}/lmp-api/v1/albums${u}`).then(t=>r?t.data[0]:{pages:parseInt(t.headers("X-WP-TotalPages"),10),page:parseInt(n,10),content:t.data}).catch(t=>a.debug(t))}}}angular.module("lmp").factory("albumFactory",t),t.$inject=["$http","$rootScope","$log"]}();
const articleConfig=()=>({url:"/news/:slug",parent:"main",resolve:{content:["articleFactory","$stateParams","metaService",(e,t,n)=>e.getArticle(t.slug).then(e=>(n.setProperties({title:`${e.title} | News | LMP`,image:e.artwork_large,type:"article"}),e))]},views:{"content@main":{component:"article",bindings:{songs:"content"}}}});
!function(){"use strict";angular.module("lmp").component("article",{bindings:{content:"<"},templateUrl:"/views/article.html"})}();
!function(){"use strict";function t(t,e,c){return{getArticle:function(r){return t.get(`${e.base_url}/lmp-api/v1/posts?slug=${r}`).then(t=>t.data[0]).catch(t=>c.debug(t))}}}angular.module("lmp").factory("articleFactory",t),t.$inject=["$http","$rootScope","$log"]}();
!function(){"use strict";angular.module("lmp").component("caliente",{bindings:{tracks:"<",layout:"<"},controller:["calienteFactory","$scope","$localStorage",function(t,e,n){this.$onInit=(()=>{if(this.tracks)return this.content=this.tracks;t.getContent().then(t=>{this.content=t,n.queue?n.queue=[...n.queue,...t]:n.queue=this.content})})}],templateUrl:"/views/caliente.html"})}();
!function(){"use strict";function t(t,e,n){return{getContent:function(c){return t.get(`${e.base_url}/lmp-api/v1/caliente`).then(t=>t.data).catch(t=>n.debug(t))}}}angular.module("lmp").factory("calienteFactory",t),t.$inject=["$http","$rootScope","$log"]}();
!function(){"use strict";angular.module("lmp").component("chart",{bindings:{content:"<"},controller:["$localStorage",function(t){this.$onInit=(()=>{this.content.tracks.length>0&&(t.queue=[...t.queue,...this.content.tracks])})}],templateUrl:"/views/chart.html"})}();
const chartConfig=()=>({url:"/charts/:slug",parent:"main",resolve:{content:["chartFactory","$stateParams","metaService",(t,e,n)=>t.getChart(e.slug).then(t=>(n.setProperties({title:`${t.title} | Charts | LMP`,image:t.artwork_large}),t))]},views:{"content@main":{component:"chart",bindings:{content:"content"}}}});
!function(){"use strict";function t(t,r,a){return{getChart:function(e){return t.get(`${r.base_url}/lmp-api/v1/chart?filter[name]=${e}`).then(t=>t.data[0]).catch(t=>a.debug(t))}}}angular.module("lmp").factory("chartFactory",t),t.$inject=["$http","$rootScope","$log"]}();
!function(){"use strict";angular.module("lmp").component("charts",{bindings:{content:"<"},templateUrl:"/views/charts.html"})}();
const chartsConfig=()=>({url:"/charts?page",parent:"main",resolve:{content:["chartsFactory","$stateParams","metaService",(t,e,n)=>t.getCharts(e.page||1).then(t=>(n.setProperties({title:"Charts | LMP"}),t))]},views:{"content@main":{component:"charts",bindings:{content:"content"}}}});
!function(){"use strict";function t(t,a,r){return{getCharts:function(c){return t.get(`${a.base_url}/lmp-api/v1/chart-list?page=${c}`).then(t=>t.data).catch(t=>r.debug(t))}}}angular.module("lmp").factory("chartsFactory",t),t.$inject=["$http","$rootScope","$log"]}();
!function(){"use strict";function e(e){return{restrict:"A",link:function(n,t,i){function r(){n.style=`${e.innerHeight-(e.innerWidth>960?226:166)}px`}r(),angular.element(e).on("resize",r),n.$on("$destroy",()=>{angular.element(e).off("resize",r)})}}}angular.module("lmp").directive("artistHeader",e),e.$inject=["$window"]}();
!function(){"use strict";angular.module("lmp").component("artist",{bindings:{content:"<"},controller:["$stateParams","$localStorage","$state","$timeout","tracksFactory",function(t,e,s,n,i){this.view="music",zenscroll.setup(400,64),this.change_view=(t=>n(()=>{this.view=t,zenscroll.to(document.getElementById("artist-title"))})),this.$onInit=(()=>{i.getMusic("all",!1,t.order||"newest",t.page||1,this.content.id).then(t=>{n(()=>{this.tracks=t.content,this.page=parseInt(t.page,10),this.pages=parseInt(t.pages,10),e.queue=[...e.queue,...t.content]})})})}],templateUrl:"/views/artist.html"})}();
const artistConfig=t=>({url:`/${t}/:slug?order&page`,parent:"main",resolve:{content:["actFactory","$stateParams","metaService",function(e,n,i){return e.getAct(t,n.slug).then(e=>(i.setProperties({title:`${e.title} | ${"djs"===t?"DJs":"Artists"} | LMP`,description:`Listen to tracks by ${e.title} exclusively on iamlmp.com, the number one site for latin music.`,image:e.artwork_large,ldjson:e.ldjson}),e))}]},views:{"content@main":{component:"artist",bindings:{content:"content"}}}});
!function(){"use strict";function t(t,e,a){return{getAct:function(c,n){return t.get(`${e.base_url}/lmp-api/v1/artists?type=${c}&filter[name]=${n}`).then(t=>t.data[0]).catch(t=>a.debug(t))}}}angular.module("lmp").factory("actFactory",t),t.$inject=["$http","$rootScope","$log"]}();
!function(){"use strict";angular.module("lmp").component("artists",{bindings:{content:"<",type:"<"},templateUrl:"/views/artists.html"})}();
const artistsConfig=t=>({url:`/${t}?page`,parent:"main",resolve:{content:["actsFactory","$stateParams","metaService",function(e,n,s){return e.getActs(t,n.page||1).then(e=>(s.setProperties({title:`${n.page&&parseInt(n.page,10)>1?"Page "+n.page+" | ":""}DJs' | LMP`,description:`Find your favorite ${t} exclusively on LMP, the best site for latin music.`}),e))}],type:()=>t},views:{"content@main":{component:"artists",bindings:{songs:"content",type:"type"}}}});
!function(){"use strict";function t(t,e,n,a){return{getActs:function(r,c){let i=13;i=e.innerWidth>1400?13:e.innerWidth>960?11:e.innerWidth>600?9:10;const o=`${n.base_url}/lmp-api/v1/artists?type[]=${r}&per_page=${i}&page=${c}`;return t.get(o).then(t=>({pages:parseInt(t.headers("X-WP-TotalPages"),10),page:parseInt(c,10),content:t.data,type:r})).catch(t=>a.debug(t))}}}angular.module("lmp").factory("actsFactory",t),t.$inject=["$http","$window","$rootScope","$log"]}();
!function(){"use strict";angular.module("lmp").component("comments",{bindings:{postid:"<",type:"<",count:"<"},controller:["$scope","$timeout","commentsFactory","submitCommentFactory","authFactory","$localStorage","$state",function(t,s,e,o,i,m,n){this.storage=m,this.list=[],this.loading=!0,this.page=0,this.pages=0,i.isAuthenticated()&&(this.auth=!0),this.login=(()=>{m.login_redirect=window.location.pathname,n.go("login")}),this.get_comments=((t,o)=>{this.loading=!0,e.getComments(t,o).then(t=>s(()=>{this.list=t.list,this.page=t.page,this.pages=t.pages,this.count=t.total,this.loading=!1}))}),this.clear_comment_form=(()=>this.comment=null),this.comment_form_alert=((t,s)=>{this.comment_form_message={type:t,message:s}}),this.clear_form_alert=(()=>{this.comment_form_message=!1}),this.submit_comment=(()=>{this.loading=!0;const t={author:this.storage.profile.id,content:this.comment,post:this.post_id};o.postComment(t).then(t=>s(()=>{if(t.status)switch(t.status){case"hold":this.comment_form_alert("info","Your comment must be approved first. After that you can post as often as you like!");break;case"approved":this.get_comments(this.post_id,1,!0),this.comment_form_alert("success","Thanks for your comment!");break;case"unknown":this.comment_form_alert("error","Sorry something went wrong, please try again.")}else this.comment_form_alert("error","Sorry something went wrong, please try again.");this.clear_comment_form(),this.loading=!1}))}),this.$onInit=(()=>{this.post_id=this.postid.replace("track-",""),this.get_comments(this.post_id,1,!0)})}],templateUrl:"/views/comments.html"})}();
!function(){"use strict";function t(t,e,a){return{getComments:function(n,o){return t.get(`${e.base_url}/wp/v2/comments/?post=${n}&per_page=5&page=${o||1}`).then(t=>({page:parseInt(o,10),pages:parseInt(t.headers("X-WP-TotalPages"),10),total:parseInt(t.headers("X-WP-Total"),10),list:t.data})).catch(t=>a.debug(t))}}}angular.module("lmp").factory("commentsFactory",t),t.$inject=["$http","$rootScope","$log"]}();
!function(){"use strict";function t(t,o,n){return{postComment:function(e){return t.post(`${o.base_url}/wp/v2/comments`,e).then(t=>t.data).catch(t=>n.debug(t))}}}angular.module("lmp").factory("submitCommentFactory",t),t.$inject=["$http","$rootScope","$log"]}();
!function(){"use strict";angular.module("lmp").component("featuredContent",{bindings:{content:"<"},controller:["featuredFactory","$scope","$localStorage","lmpPlayer",function(t,e,n,i){this.tracks=[],this.advert_click=(()=>$window.ga("send","event","Advert","Click",item.content.url)),this.toggle_audio=(t=>{if("playing"===n.state&&n.current.id===t)return i.pause();i.find_track(t)}),this.$onInit=(()=>{this.content||t.getContent().then(t=>{this.content=t;for(let e=0;e<t.length;e+=1)"music"===t[e].type&&this.tracks.push(t[e].content);this.tracks.length>0&&(n.queue?n.queue=[...n.queue,...this.tracks]:n.queue=this.tracks)})})}],templateUrl:"/views/featured.html"})}();
!function(){"use strict";function t(t,e,n){return{getContent:function(r){return t.get(`${e.base_url}/lmp-api/v1/featured`).then(t=>t.data).catch(t=>n.debug(t))}}}angular.module("lmp").factory("featuredFactory",t),t.$inject=["$http","$rootScope","$log"]}();
!function(){"use strict";function e(e,s,a,t){const l=this;l.data=s.data,l.setWidgetId=(e=>l.id=e),l.submit_form=(s=>{if(l.data.recaptcha){l.message&&(l.message=null);for(let e=0;e<l.data.fields.length;e+=1)l.data.fields[e].value||(l.message||(l.message="<p>Please complete the following fields: </p><ul>"),l.message=`${l.message}<li>${l.data.fields[e].label}</li>`),e===l.data.fields.length-1&&l.message&&(l.message+="</ul>");l.message||(l.loading=!0,e.postMessage(l.data).then(e=>{a(()=>{if(l.data.recaptcha=null,response.status)for(let e=0;e<l.data.fields.length;e+=1)l.data.fields[e].value=null;t.reload(l.id),l.message=response.message?response.message:response.status?"Your message has been sent. Thankyou.":"Sorry, something went wrong. Please try again.",l.loading=!1})}))}else l.message="Please verify you are human"})}angular.module("lmp").directive("lmpForm",function(){return{restrict:"E",scope:{data:"=form"},controller:e,controllerAs:"lmp_form",templateUrl:"/views/form.html"}}),e.$inject=["formFactory","$scope","$timeout","vcRecaptchaService"]}();
!function(){"use strict";function t(t,o,c){return{postMessage:function(){return t.get(`${o.base_url}/lmp-api/v1/contact-form`).then(t=>t.data).catch(t=>c.debug(t))}}}angular.module("lmp").factory("formFactory",t),t.$inject=["$http","$rootScope","$log"]}();
!function(){"use strict";function e(e,r,n){const t=this;t.genre=r.genre||"all",e.getGenres().then(e=>t.genres=e),t.change_genre=(()=>{r.genre="all"!==t.genre?t.genre:void 0,n.go(n.current.name,r,{reload:!1,notify:!0})})}angular.module("lmp").directive("genreFilter",function(){return{restrict:"E",scope:{},controller:e,controllerAs:"genre_filter",templateUrl:"/views/genre-filter.html"}}),e.$inject=["genreFactory","$stateParams","$state"]}();
!function(){"use strict";function e(e,t,r,n,u){return{getGenres:function(){return e.get(`${u.base_url}/wp/v2/genre?per_page=100&orderby=count&order=desc`).then(e=>{const t=e.data;return t.unshift({slug:"all",name:"All genres"}),t}).catch(e=>n.debug(e))},getGenre:function(t){return e.get(`${u.base_url}/wp/v2/genre?slug=${t}`).then(e=>e.data[0]).catch(e=>n.debug(e))}}}angular.module("lmp").factory("genreFactory",e),e.$inject=["$http","$q","$localStorage","$log","$rootScope"]}();
!function(){"use strict";angular.module("lmp").component("lmpGallery",{bindings:{source:"<"},controller:["$timeout",function(t){this.modal=!1,this.open=(i=>t(()=>{this.modal=!0,this.active=i+1})),this.nav=(i=>t(()=>{switch(i){case"next":this.active=this.active+1>this.source.images.length-1?0:this.active+1;break;case"prev":this.active=this.active-1<0?this.source.images.length-1:this.active-1}})),this.close=(()=>t(()=>{this.modal=!1,this.active=null}))}],templateUrl:"/views/gallery.html"})}();
!function(){"use strict";angular.module("lmp").component("frontPage",{bindings:{content:"<",featured:"<",caliente:"<"},controller:["$localStorage",function(t){this.$onInit=(()=>{if(this.slide_tracks=[],this.content.slider)for(let t=0;t<this.content.slider.length;t+=1)this.content.slider[t].track&&this.slide_tracks.push(this.content.slider[t].track);this.featured_tracks=[];for(let t=0;t<this.featured.length;t+=1)"music"===this.featured[t].type&&this.featured_tracks.push(this.featured[t].content);t.queue=[...this.slide_tracks,...this.featured_tracks,...this.caliente],this.ready=!0})}],templateUrl:"/views/home.html"})}();
const homeConfig=()=>({url:"/",parent:"main",resolve:{content:["pageFactory","metaService",(e,t)=>e.getPage("homepage").then(e=>(t.setProperties({title:"Home | LMP"}),e))],featured:["featuredFactory",e=>e.getContent()],caliente:["calienteFactory",e=>e.getContent()]},views:{"content@main":{component:"frontPage",bindings:{content:"content",featured:"featured",caliente:"caliente"}}}});
!function(){"use strict";function t(t,e,r){const s=this;s.storage=e,s.run_search=(()=>{s.storage.search_results=null,s.searching=!0,s.storage.search_term.length>2&&t.search(s.storage.search_term).then(t=>{r(()=>{s.storage.search_results=t,s.searching=!1})})})}angular.module("lmp").directive("instantSearch",function(){return{restrict:"E",scope:{show:"="},controller:t,controllerAs:"instant_search",templateUrl:"/views/instant-search.html"}}),t.$inject=["instantSearchFactory","$localStorage","$timeout"]}();
!function(){"use strict";function t(t,n,a){return{search:function(e){return t.get(`${a.base_url}/lmp-api/v1/instant-search?term=${e}`).then(t=>t.data).catch(t=>n.debug(t))}}}angular.module("lmp").factory("instantSearchFactory",t),t.$inject=["$http","$log","$rootScope"]}();
!function(){"use strict";angular.module("lmp").component("lmpPlayer",{bindings:{track:"="},controller:["$rootScope","$scope","$localStorage","likeFactory","$timeout","lmpPlayer",function(t,e,i,s,r,l){this.storage=i,this.display=l.display,this.layout=t.layout,this.toggle_audio=(()=>"playing"===i.state?l.pause():i.current?l.play(i.current):i.current?void 0:l.skip("next")),this.scrubber={floor:0,ceil:100,hideLimitLabels:!0,hidePointerLabels:!0},this.on_scrub=e.$on("slideEnded",()=>{l.seek(this.display.width)}),this.toggle_current=(()=>r(()=>{i.view_track=this.storage.current})),this.skip=(t=>l.skip(t)),e.$on("$destroy",()=>{this.on_scrub()})}],templateUrl:"/views/lmp-player.html"})}();
!function(){"use strict";angular.module("lmp").component("loginRegister",{bindings:{message:"<"},controller:["$rootScope","$scope","authFactory","$location","$localStorage","$state","$timeout","$stateParams",function(e,s,t,o,a,l,r,g){const i=this;g.redirect&&(a.login_redirect=g.redirect,g.type&&(zenscroll.to(document.body,300),r(()=>{switch(g.type){case"playlist":i.message="<p>You must be logged in to create playlists.</p>";break;case"like":i.message="<p>You must be logged in to save music to your favorites.</p>"}})));s.message&&(i.message=s.message);i.login=(()=>{e.layout.loading=!0,i.message=null,t.login(i.username,i.password).then(s=>{i.message=s,e.layout.loading=!1}).catch(e=>console.log(e))}),i.register=(()=>{e.layout.loading=!0,i.message=!0,t.register(i.regusername,i.regemail).then(s=>{i.message=s.message,i.error=!s.status,s.status&&(i.regemail=i.regusername=null),e.layout.loading=!1}).catch(e=>console.log(e))})}],templateUrl:"/views/login-register.html"})}();
!function(){"use strict";angular.module("lmp").component("login",{templateUrl:"/views/login.html"})}();
const loginConfig=()=>({url:"/login",parent:"main",params:{type:null,redirect:null},resolve:{meta:["metaService",e=>e.setProperties({title:"Login | LMP"})]},views:{"content@main":{component:"login"}}});
!function(){"use strict";function t(t,e,r){return{register:function(c,a){return t.get(`${r.base_url}/lmp-api/v1/register/${id.replace("track-","")}`).then(t=>t.data).catch(t=>e.debug(t))}}}angular.module("lmp").factory("registerFactory",t),t.$inject=["$http","$log","$rootScope"]}();
!function(){"use strict";function e(e,s,a,o,t,n,i,c,r,l,u){const d=this;e.layout={loading:!0,mobile:t.innerWidth<961||!1,fixed:!1,sign_in:!1},d.on_error=l.onError({},s=>{"unauthorized"==s.error().detail&&c.go("main.login"),e.layout.loading=!1,e.layout.fixed=!1,u.complete(),zenscroll.to(document.body,300)}),d.on_start=l.onStart({},s=>{u.start(),a.view_track=!1,a.queue=[],e.layout.fixed=!1,d.menu=!1,d.classes=[]}),d.on_success=l.onSuccess({},e=>{switch(d.menu=!1,e.to().name&&(d.classes=[e.to().name.split(".").join("-")]),e.to().name){case"mixes":case"tracks":case"mixtapes":case"live-tracks":case"charts":case"chart":case"podcasts":d.classes.push("page-tracklist"),d.menu="music";break;case"track":case"mix":case"mixtape":case"live-track":d.classes.push("single-track");break;case"artists":case"arist":case"djs":case"dj":d.menu="artists";break;case"videos":d.menu="videos";break;case"news":case"article":d.menu="news"}const s=window.location.pathname.replace(/^\/+|\/+$/g,"").split("/");s.length>0&&d.classes.push(s[s.length-1])}),d.on_finish=l.onFinish({},()=>{u.complete(),zenscroll.to(document.body,300),e.layout.loading=!1}),d.is_mobile=(()=>o(()=>{e.layout.mobile=t.innerWidth<961})),d.is_mobile(),d.resize_check=(()=>{o.cancel(d.after_resize),d.after_resize=o(()=>{d.is_mobile()},750)}),d.on_unauthorized=s.$on("unauthorized",(e,s)=>{c.go("login",{type:s.type||null,redirect:s.redirect||null})}),d.on_404=s.$on("404",()=>{c.go("page-not-found",{path:window.location.pathname.replace(/^\/+|\/+$/g,"")})}),angular.element(t).on("resize",d.resize_check),s.$on("$destroy",()=>{d.on_start(),d.on_success(),d.on_finish(),d.on_unauthorized(),angular.element(t).off("resize",d.resize_check)})}angular.module("lmp").controller("BodyController",e),e.$inject=["$rootScope","$scope","$localStorage","$timeout","$window","userFactory","authFactory","$state","$location","$transitions","cfpLoadingBar"]}();
!function(){"use strict";function t(t,o,r){return{postMessage:function(e){return t.post(`${o.base_url}/lmp-api/v1/form`,e).then(t=>t.data).catch(t=>r.debug(t))}}}angular.module("lmp").factory("formFactory",t),t.$inject=["$http","$rootScope","$log"]}();
!function(){"use strict";angular.module("lmp").component("siteHeader",{bindings:{navigation:"="},controller:["$rootScope","$scope","$window","$document","$timeout","$state","$localStorage","$transitions","authFactory",function(e,t,s,n,i,o,h,a,u){this.class=this.page=this.active=!1,this.storage=h,this.auth=u.isAuthenticated(),this.layout=e.layout,this.reset_menus=(()=>i(()=>{this.menu_open=!this.layout.mobile,this.instant_search_open=this.user_menu_open=!1})),this.mouseover_sub_menu=(e=>{s.innerWidth>960&&(main[`sub_menu_${e}`]=!0)}),this.mouseleave_sub_menu=(e=>{s.innerWidth>960&&(main[`sub_menu_${e}`]=!1)}),this.toggle_menu=(()=>{this.menu_open=!this.menu_open,this.layout.fixed=this.menu_open,this.user_menu_open=!1}),this.reset_menus(),this.log_out=(()=>u.logout()),this.toggle_user_menu=(()=>i(()=>{if(!u.isAuthenticated())return o.go("main.login");this.user_menu_open=!this.user_menu_open,this.layout.fixed=this.user_menu_open,this.menu_open&&this.layout.mobile&&(this.menu_open=!1)})),this.change_class=(()=>i(()=>{window.scrollY>200?this.class=!0:this.class=!1})),this.set_page=((e,t)=>i(()=>{this.page=t})),this.instant_search=!1,this.toggle_search=(()=>{this.instant_search=!this.instant_search}),this.on_before=a.onBefore({},()=>{this.reset_menus(),this.instant_search=!1}),angular.element(s).on("scroll",this.change_class),this.change_class(),t.$on("$destroy",()=>{this.on_before(),angular.element(s).off("scroll",this.change_class)})}],templateUrl:"/views/header.html"})}();
!function(){"use strict";angular.module("lmp").component("loader",{templateUrl:"/views/loader.html"})}();
!function(){"use strict";angular.module("lmp").component("layout",{bindings:{navigation:"<"},controller:["$rootScope","$window","$localStorage","userFactory",function(o,t,e,r){e.auth&&e.profile&&!e.profile.hasOwnProperty("has_record_pool")&&r.getUser().then(o=>{o.id&&(e.profile=o)})}],templateUrl:"/views/layout.html"})}();
const mainConfig=()=>({abstract:!0,resolve:{navigation:["menuFactory",o=>o.getMenu()],layout:["$rootScope",o=>o.layout]},views:{layout:{component:"layout",bindings:{navigation:"navigation",layout:"layout"}}}});
!function(){"use strict";function t(t,n,e){return{getMenu:function(u){return t.get(`${e.base_url}/lmp-api/v1/navigation`).then(t=>t.data).catch(t=>n.debug(t))}}}angular.module("lmp").factory("menuFactory",t),t.$inject=["$http","$log","$rootScope"]}();
!function(){"use strict";function t(t){return function(n){return"00:"===(n=t("date")(new Date(0,0,0).setSeconds(n),"HH:mm:ss").toString()).substring(0,3)&&(n=n.substring(3)),n}}angular.module("lmp").filter("seconds_to_time",t),t.$inject=["$filter"]}();
!function(){"use strict";angular.module("lmp").component("signInPrompt",{bindings:{layout:"="},controller:["$localStorage","$state",function(n,t){this.storage=n,this.login=(()=>{n.login_redirect=window.location.pathname,t.go("main.login")})}],templateUrl:"/views/sign-in-prompt.html"})}();
!function(){"use strict";function t(t,e,i,r,n,o){const s=this;s.properties=e.getProperties(),s.start_listener=i.onStart({},()=>{e.setProperties({})}),s.listener=i.onSuccess({},()=>{s.properties=e.getProperties(),s.analytics({hitType:"pageview",page:r.path(),title:s.title,location:r.url()})}),s.analytics=(t=>{window.ga?n.ga("send",t):o(s.analytics(t),500)}),t.$on("$destroy",()=>{s.start_listener(),s.listener()})}angular.module("lmp").controller("HeadController",t),t.$inject=["$scope","metaService","$transitions","$location","$window","$timeout"]}();
!function(){"use strict";angular.module("lmp").factory("metaService",function(){let e={title:"IAMLMP",description:"Artists, Latin Music, DJ Mixes, Mixtapes, on IAMLMP.COM - Reggaeton, Salsa, Bachata, Merengue, Dembow, Tipico, DJ Mixes and Mixtapes.",keywords:"latin music, latin mixes, latin mixtapes, lmp, iamlmp, lomaximo reggaeton, salsa, bachata, merengue, dembow, urbano",type:"website",image:"https://www.iamlmp.com/assets/img/branding/lmp-social.jpg",url:window.location.href.replace("lmp.circular.one","www.iamlmp.com").replace("index.html",""),ldjson:!1,robots:"index"},i={};return{setProperties:function(o){i=o;for(let o in e)i[o]||"keywords"===o||(i[o]=e[o]);i.keywords=e.keywords,o.keywords&&(i.keywords=`${i.keywords}, ${o.keywords}`)},getProperties:function(){i.keywords&&(i.keywords=[...new Set(i.keywords.split(", "))],i.keywords=i.keywords.join(","));return i}}})}();
!function(){"use strict";function e(e,t,l,i,a,s,o,c){const n=this;n.decide=!0,t&&(n.message=`Are you sure you want to delete the playlist "${t.title}". This can't be undone`),n.confirm=(()=>{t&&c(()=>{n.loading=!0,n.decide=!1,a.remove(t.id).then(()=>{o.go("user-playlists")})}),l&&c(()=>{n.loading=!0,n.decide=!1,l.list.tracks.splice(l.index,1),i.update(l.list.id,l.list.tracks.map(e=>e.id.replace("track-","")).join(",")).then(t=>{e(t.tracks,0),n.loading=!1})})}),n.cancel=(t=>{e(t,0)}),l&&(n.message=`Are you sure you want to delete the track "${l.list.tracks[l.index].title}"?`),n.close=(t=>{e(t,0)})}angular.module("lmp").controller("ModalController",e),e.$inject=["close","playlist","playlist_track","updatePlaylistFactory","deletePlaylistFactory","$scope","$state","$timeout"]}();
!function(){"use strict";angular.module("lmp").component("musicPreviewer",{controller:["tracksFactory","genreFactory","$scope","$localStorage","$timeout",function(e,t,s,r,n){this.storage=r,this.genre_start=0,this.change_genre=(t=>{t&&(this.genre=t),e.getMusic("all",this.genre.slug,!1,1,!1,5).then(e=>{this.genre.tracks=e.content,n(()=>{r.queue?r.queue=[...r.queue,...e.content]:r.playlist=[...r.playlist,...e.content]})})}),t.getGenres().then(e=>{e.shift(),this.genres=e,this.genre=this.genres[0],this.change_genre(this.genres[0])}),this.prev_genres=(()=>{this.genre_start>0?(this.genre_start=this.genre_start-7,this.change_genre(this.genres[this.genre_start])):this.genres.length>this.genre_start+1+7&&(this.genre_start=0,this.change_genre(this.genres[this.genre_start]))}),this.next_genres=(()=>n(()=>{this.genre_start+1+7<this.genres.length?(this.genre_start=this.genre_start+7,this.change_genre(this.genres[this.genre_start])):this.genres.length%7==0&&(this.genre_start=Math.floor(this.genres.length/7)-1,this.change_genre(this.genres[this.genre_start]))}))}],templateUrl:"/views/previewer.html"})}();
!function(){"use strict";angular.module("lmp").component("news",{bindings:{content:"<"},templateUrl:"/views/news.html"})}();
const newsConfig=()=>({url:"/news?page",parent:"main",resolve:{content:["newsFactory","$stateParams","metaService",function(e,n,t){return e.getNews(n.page||1).then(e=>(t.setProperties({title:`${n.page&&parseInt(n.page,10)>1?"Page "+n.page+" | ":""}News | LMP`}),e))}]},views:{"content@main":{component:"news",bindings:{content:"content"}}}});
!function(){"use strict";function e(e,t,a){return{getNews:function(n){return e.get(`${t.base_url}/lmp-api/v1/posts?per_page=10&page=${n}`).then(e=>({pages:e.headers("X-WP-TotalPages"),page:n,list:e.data})).catch(e=>a.debug(e))}}}angular.module("lmp").factory("newsFactory",e),e.$inject=["$http","$rootScope","$log"]}();
!function(){"use strict";angular.module("lmp").component("page",{bindings:{content:"<",plan:"<"},controller:["authFactory","$timeout","$sce","metaService","productsFactory","orderFactory","$state","$location",function(t,e,n,o,s,i,l,c){this.$onInit=(()=>{if(this.content.elements)for(let t=0;t<this.content.elements.length;t+=1)this.content.elements[t].type||(this.content.elements[t]=n.trustAsHtml(this.content.elements[t]));"Record Pool"===this.content.title&&s.getProducts().then(t=>{this.products=t}),this.plan&&(this.select_plan=this.plan)}),this.buy_now=((t,e)=>{const n={product_id:t,variation_id:e||null};l.go("user-review-order",n)})}],templateUrl:"/views/page.html"})}();
const pageConfig=t=>({url:t?"/contact?plan":"/*path",parent:"main",resolve:{content:["pageFactory","metaService",(t,e)=>{var n=window.location.pathname.replace(/^\/+|\/+$/g,"").split("/");return t.getPage(n[n.length-1]).then(t=>(e.setProperties({title:`${t.title} | LMP`}),t))}],plan:["$stateParams",t=>t.plan||!1]},views:{"content@main":{component:"page",bindings:{content:"content",plan:"plan"}}}});
!function(){"use strict";function t(t,e){return{getPage:function(a){return t.get(`${e.base_url}/lmp-api/v1/pages?type=page&filter[name]=${a}`).then(t=>t.data[0]).catch(t=>$log.debug(t))}}}angular.module("lmp").factory("pageFactory",t),t.$inject=["$http","$rootScope","$log"]}();
!function(){"use strict";angular.module("lmp").factory("errorInjector",["$rootScope",r=>{return{responseError:function(o){switch(console.log(o),o.status){case 404:r.$broadcast("404")}return o}}}])}();
const pageNotFoundConfig=()=>({url:"/:path",parent:"main",views:{"content@main":{component:"pageNotFound"}}});
!function(){"use strict";angular.module("lmp").component("pageNotFound",{templateUrl:"/views/page-not-found.html"})}();
!function(){"use strict";angular.module("lmp").component("pagination",{bindings:{page:"=",pages:"=",basic:"="},controller:["$state",function(t){this.pagination={start:{first:!1,back:!1},middle:[],end:{next:!1,last:!1}},this.$onInit=(()=>{const t={};for(t.total_pages=parseInt(this.pages,10),t.page=parseInt(this.page,10),t.values={start:{first:!1,back:!1},middle:[],end:{next:!1,last:!1}},t.values.start.first=t.page>1&&1,t.values.start.back=t.page>1&&t.page-1,t.values.end.last=t.page>1&&t.page-1,t.temp={first:Math.max(1,t.page-2),last:Math.min(t.page+2,t.total_pages)},t.page<3?t.temp.last=Math.min(t.total_pages,5):t.page>t.total_pages-3&&(t.temp.first=Math.max(1,t.total_pages-4)),t.temp.current=t.temp.first;t.temp.current<=t.temp.last;t.temp.current+=1)t.values.middle.push({page:t.temp.current,link:t.temp.current!=t.page});t.values.end.next=t.page<t.total_pages&&t.page+1,t.values.end.last=t.page<t.total_pages&&t.total_pages,this.pagination=t})}],templateUrl:"/views/pagination.html"})}();
!function(){"use strict";function t(t,e,n){return{reset:function(o,r,a){let c=`${n.base_url}/lmp-api/v1/new-password?key=${o}&login=${r}&password=${a}`;return t.get(c).then(t=>t.data).catch(t=>e.debug(t))}}}angular.module("lmp").factory("newPasswordFactory",t),t.$inject=["$http","$log","$rootScope"]}();
!function(){"use strict";angular.module("lmp").component("passwordReset",{controller:["authFactory","$timeout","$rootScope","$stateParams","newPasswordFactory",function(s,e,t,a,o){this.$onInit=(()=>{a.key&&a.login?(this.new_password=!0,this.message="<p>Enter a new password below.</p>"):this.message="<p>Enter your username or email address to receive a password reset link.</p>"}),this.reset_password=(()=>{t.layout.loading=!0,s.reset(this.username).then(s=>{this.message=s.message,t.layout.loading=!1})}),this.set_password=(()=>{this.message=null,e(()=>this.password&&this.password.length<6?this.message="<p>Your password is too short. Enter at least 6 characters.</p>":this.password&&this.password_duplicate?this.password!==this.password_duplicate?this.message="<p>Passwords don't match.</p>":void o.reset(a.key,a.login,this.password).then(s=>s.status?(this.password=this.password_duplicate="",this.message=s.message):this.message=s.message):this.message="<p>You must complete both password fields.</p>")})}],templateUrl:"/views/password-reset.html"})}();
const passwordResetConfig=()=>({url:"/password-reset?key&login",parent:"main",resolve:{meta:["metaService",e=>e.setProperties({title:"Password Reset | LMP"})]},views:{"content@main":{component:"passwordReset"}}});
!function(){"use strict";angular.module("lmp").component("publicPlaylist",{bindings:{content:"<"},controller:["$localStorage",function(t){this.$onInit=(()=>{this.content.tracks.length>0&&(t.queue=[...t.queue,this.content.tracks])})}],templateUrl:"/views/playlist.html"})}();
const playlistConfig=()=>({url:"/playlists/:slug",parent:"main",resolve:{content:["playlistFactory","$stateParams","metaService",function(t,e,n){return t.getPlaylist(e.slug).then(t=>(n.setProperties({title:`${t.title} | Playlists | LMP`}),t))}]},views:{"content@main":{component:"publicPlaylist",bindings:{content:"content"}}}});
!function(){"use strict";function t(t,a,l){return{getPlaylist:function(a){return t.get(`${l.base_url}/lmp-api/v1/playlist?slug=${a}`).then(t=>t.data).catch(t=>$log.debug(t))},updatePlaylist:function(a,e,u){return e=e||!1,u=u||!1,t.put(`${l.base_url}/lmp-api/v1/update-playlist/${a}?${e?"tracks="+e.map(function(t){return t.id.replace("track-","")}).join(","):""}${u?"track="+u:""}`).then(t=>t.data).catch(t=>$log.debug(t))},deletePlaylist:function(a){return t.put(`${l.base_url}/lmp-api/v1/delete-playlist/${a}`).then(t=>t.data).catch(t=>$log.debug(t))}}}angular.module("lmp").factory("playlistFactory",t),t.$inject=["$http","$localStorage","$rootScope"]}();
!function(){"use strict";function t(t,e,a){return{create:function(c,r){return t.post(`${a.base_url}/lmp-api/v1/create-playlist?track=${c}&title=${r}`).then(t=>t.data).catch(t=>e.debug(t))}}}angular.module("lmp").factory("createPlaylistFactory",t),t.$inject=["$http","$log","$rootScope"]}();
!function(){"use strict";angular.module("lmp").component("playlist",{controller:["authFactory","$timeout","playlistFactory","$localStorage","createPlaylistFactory",function(s,t,e,i,a){this.storage=i,this.regex="([a-zA-Z0-9 '-]+)",this.has_playlists=!0,s.isAuthenticated()?(this.playlists=this.storage.profile.playlists,this.playlists.length>0?this.stage="type":(this.stage="new",this.has_playlists=!1)):this.stage=!1,this.add_to_existing=function(){this.loading=!0,this.selected?e.updatePlaylist(this.selected,!1,i.playlist_track.id.replace("track-","")).then(s=>{t(()=>{!s||s&&!s.status?(this.failure=!0,this.message=s?s.message:"Sorry, something went wrong. Please try again."):(this.success=this.has_playlists=!0,this.message=s.message),this.stage="complete"})}):this.show_none_selected=!0},this.create=(()=>{/^[\w -]*$/.test(this.new_title)&&a.create(i.playlist_track.id,this.new_title).then(s=>{!s||s&&!s.status?(this.failure=!0,this.message=s?s.message:"Sorry, something went wrong. Please try again."):(i.profile.playlists=s.playlists,this.success=this.has_playlists=!0,this.message=s.message),this.stage="complete"})}),this.cancel_playlister=(()=>{t(()=>{this.message=null,this.failure=null,this.success=null,this.selected=null,this.loading=null,this.stage=!!s.isAuthenticated()&&(this.has_playlists?"type":"new"),this.storage.playlist_track=!1})})}],templateUrl:"/views/playlister.html"})}();
!function(){"use strict";angular.module("lmp").component("podcastVideo",{bindings:{video:"="},controller:["$scope","$element","likeFactory","lmpPlayer",function(t,e,i,n){this.$onInit=(()=>{e[0].firstElementChild.firstElementChild.addEventListener("playing",this.stop_audio),e[0].firstElementChild.firstElementChild.addEventListener("durationchange",this.duration_update)}),this.stop_audio=(()=>n.pause()),this.like=(()=>{i.like(this.track.id.replace("track-","")).then(t=>{t&&(this.track.likes=t.count)})})}],templateUrl:"podcast-video.html"})}();
!function(){"use strict";angular.module("lmp").component("podcast",{bindings:{content:"<"},controller:["lmpPlayer","$rootScope","$localStorage","$timeout","relatedFactory","likeFactory","authFactory",function(t,i,e,n,o,s,a){this.meta_cols=3,this.description_limit=180,this.$onInit=(()=>{e.queue=[this.content],this.content.buy&&(this.meta_cols+=1),this.content.download&&(this.meta_cols+=1),o.getRelated(this.content.id.replace("track-","")).then(t=>{n(()=>{this.related=t,e.queue=[...e.queue,...t]})}),this.content.video&&(this.video=document.getElementById("podcast-video-"+this.content.id),this.video&&this.video.addEventListener("playing",this.stop_audio))}),this.toggle_description=(()=>{this.description_limit=180===this.description_limit?1e5:180}),this.add_to_playlist=(()=>{if(!a.isAuthenticated())return i.$broadcast("unauthorized",{type:"playlist",redirect:window.location.pathname});n(()=>e.playlist_track=content)}),this.like=(()=>{if(!a.isAuthenticated())return i.$broadcast("unauthorized",{type:"like",redirect:window.location.pathname});this.like_loading=!0,s.like(this.content.id.replace("track-","")).then(t=>{t&&(this.content.likes=t.count,this.content.user_like=!this.content.user_like),this.like_loading=!1})}),this.toggle_audio=(i=>{if("playing"===e.state&&e.current.id===this.content.id)return t.pause();t.find_track(this.content.id)}),this.stop_audio=(()=>{"playing"===e.state&&t.pause()})}],templateUrl:"/views/podcast.html"})}();
const podcastConfig=()=>({url:"/podcasts/:slug",parent:"main",resolve:{content:["metaService","trackFactory","$stateParams",(t,e,n)=>e.getTrack("podcasts",n.slug).then(e=>(t.setProperties({title:`${e.title} | Podcasts | LMP`}),e))]},views:{"content@main":{component:"podcast",bindings:{content:"content"}}}});
!function(){"use strict";angular.module("lmp").component("podcasts",{bindings:{songs:"<"},controller:["$rootScope","$localStorage","metaService","$uiRouterGlobals",function(o,t,e,n){this.$onInit=(()=>{t.queue=[...t.queue,...this.songs.content]})}],templateUrl:"/views/podcasts.html"})}();
const podcastsConfig=()=>({url:"/podcasts?genre&order&page",parent:"main",resolve:{songs:["tracksFactory","$stateParams","metaService",function(e,s,t){return e.getMusic("podcasts",s.genre||!1,s.order||!1,s.page||1,!1,9).then(e=>(t.setProperties({title:`${s.page&&parseInt(s.page,10)>1?"Page "+s.page+" | ":""}Podcasts | LMP`,description:"Listen to the best latin music podcasts on the web, presented by LMP, the number one site for latin mixes, remixes and mixtapes.",keywords:"podcast, latin podcast, latin music podcast, latin podcast rss"}),e))}]},views:{"content@main":{component:"podcasts",bindings:{songs:"songs"}}}});
!function(){"use strict";angular.module("lmp").component("singlePodcast",{bindings:{podcast:"<"},templateUrl:"/views/single-podcast.html"})}();
!function(){"use strict";angular.module("lmp").component("queue",{controller:["$localStorage",function(e){this.storage=e}],templateUrl:"/views/queue.html"})}();
const queueConfig=()=>({url:"/queue",parent:"main",views:{"content@main":{component:"queue"}}});
!function(){"use strict";angular.module("lmp").component("sidebar",{controller:["sidebarFactory","$localStorage","lmpPlayer",function(t,r,a){t.getSidebar().then(t=>{this.mixes=t.mixes,this.tracks=t.tracks}),this.play_radio=(()=>{if("playing"===r.state&&"lmp-radio"===r.current.id)return a.pause();a.find_track("lmp-radio")})}],templateUrl:"/views/sidebar.html"})}();
!function(){"use strict";function t(t,e,r){return{getSidebar:function(a){return t.get(`${e.base_url}/lmp-api/v1/sidebar`).then(t=>t.data).catch(t=>r.debug(t))}}}angular.module("lmp").factory("sidebarFactory",t),t.$inject=["$http","$rootScope","$log"]}();
!function(){"use strict";function e(e,t,c){return{change:function(n){return e.get(`${c.base_url}/lmp-api/v1/rp-change-device${n?"?replace=true":""}`).then(e=>e.data).catch(e=>t.debug(e))}}}angular.module("lmp").factory("changeDeviceFactory",e),e.$inject=["$http","$log","$rootScope"]}();
!function(){"use strict";angular.module("lmp").component("device",{bindings:{content:"<",device:"<"},controller:["$timeout","changeDeviceFactory",function(e,c){const n=this;n.change_device=(e=>c.change(e).then(e=>{if(n.message=e.message,e.action)switch(e.action){case"swap":n.device.platform=e.platform,n.device.new_machine=null;break;case"remove":n.device.platform=null}}))}],templateUrl:"/views/device.html"})}();
const recordPoolDeviceConfig=()=>({url:"/record-pool-device",parent:"main",resolve:{auth:["protectFactory",e=>e.checkAuth()],content:["pageFactory","metaService",(e,t)=>e.getPage("record-pool-device").then(e=>(t.setProperties({title:`${e.title} | LMP`}),e))],device:["deviceFactory",e=>e.getDevice()]},views:{"content@main":{component:"device",bindings:{content:"content",device:"device"}}}});
!function(){"use strict";function t(t,e,c){return{getDevice:function(){return t.get(`${c.base_url}/lmp-api/v1/rp-devices`).then(t=>t.data).catch(t=>e.debug(t))}}}angular.module("lmp").factory("deviceFactory",t),t.$inject=["$http","$log","$rootScope"]}();
!function(){"use strict";function t(t,o,r){return{getProduct:function(c,u){let e=`${r.base_url}/lmp-api/v1/product?product_id=${c}`;u&&(e=`${e}&variation_id=${u}`);return t.get(e).then(t=>t.data).catch(t=>o.debug(t))}}}angular.module("lmp").factory("productFactory",t),t.$inject=["$http","$log","$rootScope"]}();
!function(){"use strict";function t(t,c,o){return{getProducts:function(){return t.get(`${o.base_url}/lmp-api/v1/products`).then(t=>t.data).catch(t=>c.debug(t))}}}angular.module("lmp").factory("productsFactory",t),t.$inject=["$http","$log","$rootScope"]}();
!function(){"use strict";function e(e,t,i,r){const n=this;n.slides=i.slides,n.direction="right",n.set_active=(e=>{for(let t=0;t<n.slides.length;t+=1)t==e?(n.slides[t].active=!0,n.current=t):n.slides[t].active=!1}),n.init=(()=>n.set_active(0)),n.prev=(()=>{n.direction="left",n.set_active(n.current-1)}),n.next=(()=>{n.direction="right",n.set_active(n.current+1)}),n.timer=null,n.autoplay=(()=>{n.timer=r(()=>{"right"===n.direction?n.current<n.slides.length-1?n.next():n.prev():0===n.current?n.next():n.prev()},5500)}),n.slides.length>1&&e(()=>{n.autoplay()},5500),n.pause=(()=>{angular.isDefined(n.timer)&&r.cancel(n.timer)}),n.unpause=(()=>{!angular.isDefined(n.timer)&&n.slides.length>1&&n.autoplay()}),n.resize=(()=>n.set_active(n.current)),n.init(),angular.element(t).on("resize",n.resize),n.listen=i.$on("timeline",n.init),i.$on("$destroy",()=>{angular.element(t).off("resize",n.resize),n.listen()})}angular.module("lmp").directive("lmpSlider",function(){return{restrict:"E",templateUrl:"/views/slider.html",controller:e,controllerAs:"slider",scope:{slides:"="}}}),e.$inject=["$timeout","$window","$scope","$interval"]}();
!function(){"use strict";function t(t,e,r){this.share=(()=>t(()=>{e.share=r.content}))}angular.module("lmp").directive("shareButton",function(){return{restrict:"E",templateUrl:"/views/share-button.html",controller:t,controllerAs:"share",scope:{content:"<"}}}),t.$inject=["$timeout","$localStorage","$scope"]}();
!function(){"use strict";function e(e,t,a){const s=this;s.storage=a,s.share=(e=>{const a=`${s.storage.share.title} @ LMP`;switch(e){case"facebook":case"twitter":t.share({provider:e,attrs:{socialshareUrl:s.storage.share.link,socialshareText:a}});break;case"email":t.share({provider:"email",attrs:{socialshareSubject:"Check this out on iamlmp.com",socialshareBody:`I saw this on iamlmp.com and thought you'd like it: "${s.content.title}" - ${s.content.link}`}})}}),s.close=(()=>e(()=>{s.storage.share=null}))}angular.module("lmp").directive("socialShare",function(){return{restrict:"E",templateUrl:"/views/social-share.html",controller:e,controllerAs:"social_share",scope:{}}}),e.$inject=["$timeout","Socialshare","$localStorage"]}();
!function(){"use strict";function e(e,t,r){const o=this;o.order=t.order||"newest",o.options=[{value:"newest",name:"Newest"},{value:"oldest",name:"Oldest"},{value:"az",name:"A - Z"},{value:"za",name:"Z - A"},{value:"likes",name:"Likes"},{value:"plays",name:"Plays"}],o.change_order=(()=>{t.order="newest"!==o.order?o.order:void 0,r.go(r.current.name,t,{reload:!1,notify:!0})})}angular.module("lmp").directive("sortFilter",function(){return{restrict:"E",scope:{},controller:e,controllerAs:"sort_filter",templateUrl:"/views/sort-filter.html"}}),e.$inject=["$scope","$stateParams","$state"]}();
!function(){"use strict";function t(t,a,r){return{update:function(n,u){return t.get(`${r.base_url}/lmp-api/v1/duration/${n.replace("track-","")}?duration=${u}`).then(t=>t.data).catch(t=>a.debug(t))}}}angular.module("lmp").factory("durationFactory",t),t.$inject=["$http","$log","$rootScope"]}();
!function(){"use strict";function t(t,e,n){return{like:function(u){return t.put(`${n.base_url}/lmp-api/v1/likes/${u}`).then(t=>t.data).catch(t=>e.debug(t))}}}angular.module("lmp").factory("likeFactory",t),t.$inject=["$http","$log","$rootScope"]}();
!function(){"use strict";angular.module("lmp").component("trackModal",{controller:["$window","$timeout","$rootScope","$localStorage","authFactory","likeFactory",function(t,e,i,a,r,o){this.storage=a,this.show=!0,this.like=(()=>{if(!r.isAuthenticated())return i.$broadcast("unauthorized",{type:"like",redirect:`/${a.view_track.format}/${a.view_track.slug}`});this.like_loading=!0,o.like(this.storage.view_track.id.replace("track-","")).then(t=>{t&&(a.view_track.likes=t.count,a.view_track.user_like=!a.view_track.user_like),this.like_loading=!1})}),this.add_to_playlist=(()=>{if(!r.isAuthenticated())return i.$broadcast("unauthorized",{type:"playlist",redirect:`/${a.view_track.format}/${a.view_track.slug}`});e(()=>{a.playlist_track=a.view_track,a.view_track=!1})}),this.toggle=(()=>{this.show=!1,e(()=>{a.view_track=!1,this.show=!0},600)})}],templateUrl:"/views/track-modal.html"})}();
!function(){"use strict";function e(e,t,n,r,o,a,i){return{login:function(o,a){return i(()=>{n.layout.loading=!0;let l=`${n.base_url}/lmp-api/v1/login`;return l=`${l}?username=${o}&password=${a}`,e.post(`${n.base_url}/lmp-api/v1/login?username=${o}&password=${a}`).then(e=>(e.data.status&&(t.auth=e.data.auth,t.profile=e.data.profile,i(()=>t.login_redirect?i(u,500):r.go("user-account"))),n.layout.loading=!1,e.data.message)).catch(e=>console.log(e))})},profile:function(o){o&&o.access_token&&e({url:`${n.base_url}/wp/v2/users/me?_envelope`,method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${o.access_token}`}}).then(e=>{if(200==e.data.status){if(t.profile=e.data.body,t.auth=o,t.login_redirect){const e=t.login_redirect;t.login_redirect=null,r.go(e)}else r.reload();return e.data.body}return!1}).catch(e=>a.debug(e));return e.get(`${n.base_url}/wp/v2/users/me?_envelope`).then(e=>(t.profile=e.data.body,e.data.body)).catch(e=>a.debug(e))},profileFull:function(){return e.get(`${n.base_url}/wp/v2/users/me?context=edit&_envelope`).then(e=>e.data.body).catch(e=>a.debug(e))},logout:function(){return t.auth=t.profile=null,r.reload()},isAuthenticated:function(){if(t.auth&&t.profile)return!0;return!1},token:function(){return t.auth.access_token},register:function(t,r){return e.post(`${n.base_url}/lmp-api/v1/register?username=${t}&email=${r}`).then(e=>e.data).catch(e=>a.debug(e))},reset:function(t){return e.post(`${n.base_url}/lmp-api/v1/password-reset?username=${t}`).then(e=>e.data).catch(e=>a.debug(e))},timenow:function(){return window.performance&&window.performance.now&&window.performance.timing&&window.performance.timing.navigationStart?window.performance.now()+window.performance.timing.navigationStart:Date.now()}};function u(){const e=t.login_redirect;return t.login_redirect="",o.url(e)}}angular.module("lmp").factory("authFactory",e),e.$inject=["$http","$localStorage","$rootScope","$state","$location","$log","$timeout"]}();
!function(){"use strict";function e(e){const n=this;n.storage=e,n.login=(()=>{n.login_open=!n.login_open})}angular.module("lmp").directive("userMenu",function(){return{restrict:"E",scope:{},controller:e,controllerAs:"user_menu",templateUrl:"/views/user-menu.html"}}),e.$inject=["$localStorage"]}();
const format_title=e=>{switch(e){case"djs":e="DJs";break;case"live-tracks":e="Live Tracks";break;default:e=e.charAt(0).toUpperCase()+e.slice(1)}return e};
function format_track(t){return t.id=`track-${t.id}`,t.duration_display=t.duration,delete t.duration,t.title=decodeURIComponent(t.title.rendered),t.artists=decodeURIComponent(t.artists),t.format=t.type,delete t.type,t}
!function(){"use strict";function t(t,e,a){return{getRelated:function(r){return t.get(`${a.base_url}/lmp-api/v1/related?id=${r}`).then(t=>t.data).catch(t=>e.debug(t))}}}angular.module("lmp").factory("relatedFactory",t),t.$inject=["$http","$log","$rootScope"]}();
!function(){"use strict";angular.module("lmp").component("singleTrack",{bindings:{track:"<",album:"<"},controller:["$rootScope","$localStorage","ModalService","likeFactory","$timeout","lmpPlayer",function(t,r,e,i,a,l){this.storage=r,this.layout=t.layout,this.add_to_playlist=(()=>e.showModal({templateUrl:"/views/playlist-manager.html",controller:"PlaylistManagerController",controllerAs:"playlist_manager",inputs:{track:this.track}}).then(t=>{})),this.like=(()=>i.like(this.track.id.replace("track-","")).then(t=>{t&&(this.track.likes=t.count)})),this.view_detail=(()=>a(()=>{r.current&&this.track.id===r.current.id?r.view_track=r.current:r.view_track=this.track})),this.toggle_audio=(t=>a(()=>{if("playing"===r.state&&r.current.id===this.track.id)return l.pause();if("idle"===r.state&&r.current.id===this.track.id){l.resume(r.current.progress)||l.find_track(t)}l.find_track(t)}))}],templateUrl:"/views/single-track.html"})}();
!function(){"use strict";angular.module("lmp").component("track",{bindings:{content:"<"},controller:["lmpPlayer","$rootScope","$localStorage","$timeout","relatedFactory","likeFactory","authFactory",function(t,e,i,n,o,a,s){this.storage=i,this.meta_cols=3,this.description_limit=180,this.$onInit=(()=>{i.queue=[this.content],this.content.buy&&this.meta_cols++,this.content.download&&this.meta_cols++,o.getRelated(this.content.id.replace("track-","")).then(t=>{n(()=>{this.related=t,i.queue=[...i.queue,...t]})})}),this.toggle_description=(()=>{this.description_limit=180===this.description_limit?1e5:180}),this.add_to_playlist=(()=>{if(!s.isAuthenticated())return e.$broadcast("unauthorized",{type:"playlist",redirect:window.location.pathname});n(()=>{i.playlist_track=this.content})}),this.like=(()=>{if(!s.isAuthenticated())return e.$broadcast("unauthorized",{type:"like",redirect:window.location.pathname});this.like_loading=!0,a.like(this.content.id.replace("track-","")).then(t=>{t&&(this.content.likes=t.count,this.content.user_like=!this.content.user_like),this.like_loading=!1})}),this.toggle_audio=(e=>n(()=>{if("playing"===i.state&&i.current.id===e)return t.pause();t.find_track(e)}))}],templateUrl:"/views/track.html"})}();
const trackConfig=t=>({url:`/${t}/:slug`,parent:"main",resolve:{content:["metaService","trackFactory","$stateParams",(e,n,a)=>n.getTrack(t,a.slug).then(n=>(e.setProperties({title:`${n.title} | ${format_title(t)} | LMP`,image:n.artwork_large}),n))]},views:{"content@main":{component:"track",bindings:{content:"content"}}}});
!function(){"use strict";function t(t,e,c){return{getTrack:function(r,a){return t.get(`${c.base_url}/lmp-api/v1/music?type=${r}&filter[name]=${a}`).then(t=>t.data[0]).catch(t=>e.debug(t))}}}angular.module("lmp").factory("trackFactory",t),t.$inject=["$http","$log","$rootScope"]}();
!function(){"use strict";angular.module("lmp").component("tracks",{bindings:{slides:"<",songs:"<"},controller:["$rootScope","$scope","$window","$localStorage","$state","$uiRouterGlobals",function(s,t,e,i,o,l){this.storage=i,this.$onInit=(()=>{this.title=format_title(this.songs.format),this.format=this.songs.format,this.tracks=this.songs.content,this.page=this.songs.page,this.pages=this.songs.pages,this.slider=!1,this.slides.slider&&this.slides.slider.length>0&&(this.slider=this.slides.slider),this.storage.queue=[...this.storage.queue,...this.tracks]}),this.change_page=(s=>{l.params.page=parseInt(s,10),o.go(".",l.params)}),this.on_scroll=(()=>{this.fixed_header=window.scrollY>200||!1}),angular.element(e).on("scroll",this.on_scroll),t.$on("$destroy",()=>{angular.element(e).off("scroll",this.on_scroll)})}],templateUrl:"/views/tracks.html"})}();
const tracksConfig=e=>({url:`/${e}?genre&order&page`,parent:"main",resolve:{songs:["tracksFactory","$stateParams","metaService",(t,a,s)=>t.getMusic(e,a.genre||!1,a.order||!1,a.page||1,!1,!1).then(t=>(s.setProperties({title:`${a.page&&parseInt(a.page,10)>1?"Page "+a.page+" | ":""}${format_title(e)} | LMP`,description:`Listen to the best latin ${e} on iamlmp.com, the number one site for latin music.`}),t))],slides:["pageFactory","$stateParams",(t,a)=>t.getPage(e)],layout:["$rootScope",e=>e.layout]},views:{"content@main":{component:"tracks",bindings:{songs:"songs",slides:"slides",layout:"layout"}}}});
!function(){"use strict";function e(e,t,r){return{getMusic:function(a,l,s,i,c,m){i=i||1,s=s||!1,c=c||!1,l=l||!1,m=m||10;let o=`${t.base_url}/lmp-api/v1/music?`;if(o=`${o=`${o}${"all"==a?"type[]=live-tracks&type[]=tracks&type[]=mixes&type[]=mixtapes&":"type[]="+a+"&"}`}${c?"&filter[meta_query][relation]=OR&filter[meta_query][0][key]=lmp_primary_acts&filter[meta_query][0][value]="+c+"&filter[meta_query][0][compare]=LIKE&filter[meta_query][1][key]=lmp_secondary_acts&filter[meta_query][1][value]="+c+"&filter[meta_query][1][compare]=LIKE&":""}`,s&&"newest"!==s)switch(s){case"oldest":o=`${o}orderby=date&order=asc&`;break;case"az":o=`${o}orderby=title&order=asc&`;break;case"za":o=`${o}orderby=title&order=desc&`;break;case"likes":o=`${o}filter[meta_key]=lmp_likes&filter[orderby]=meta_value_num&`;break;case"plays":o=`${o}filter[meta_key]=lmp_plays&filter[orderby]=meta_value_num&`}return o=`${o=`${o}${l?"filter[taxonomy]=genre&filter[term]="+l+"&":""}`}page=${i}${m?"&per_page="+m:""}`,e.get(o).then(e=>({pages:parseInt(e.headers("X-WP-TotalPages"),10),page:i?parseInt(i,10):1,content:e.data,format:a})).catch(e=>r.debug(e))}}}angular.module("lmp").factory("tracksFactory",e),e.$inject=["$http","$rootScope","$log"]}();
!function(){"use strict";angular.module("lmp").factory("authInjector",["$localStorage",t=>{return{request:function(t){let e=!0;const a=["dailymotion","lmp-api/v1/navigation","lmp-api/v1/artists","lmp-api/v1/posts"];for(let o=0;o<a.length;o+=1)t.url.indexOf(a[o])>-1&&(e=!1);if(e){let e=localStorage.getItem("iamlmp_auth");(e=JSON.parse(e))&&e.access_token&&(t.headers.Authorization=`Bearer ${e.access_token}`)}return t}}}])}();
!function(){"use strict";function t(t,a,c){return{addPlay:function(e){return t.get(`${c.base_url}/lmp-api/v1/plays/${e.replace("track-","")}`).then(t=>t.data).catch(t=>a.debug(t))}}}angular.module("lmp").factory("playsFactory",t),t.$inject=["$http","$log","$rootScope"]}();
!function(){"use strict";function t(t,e,o,n){return{checkAuth:function(){const r=t.defer();e.isAuthenticated()?r.resolve():(n.login_redirect=window.location.pathname,window.location.search&&(n.login_redirect=`${n.login_redirect}${window.location.search}`),o.go("login"),r.reject("unauthorized"));return r.promise}}}angular.module("lmp").factory("protectFactory",t),t.$inject=["$q","authFactory","$state","$localStorage"]}();
!function(){"use strict";function t(t,e,o,r){return{getUser:function(u){return u=u||!1,t.get(`${o.base_url}/wp/v2/users/me?${u?"context=edit&":""}_envelope`).then(t=>200===t.status&&(u||(e.profile=t.data.body),t.data.body)).catch(t=>r.debug(t))},updateUser:function(e){return t.post(`${o.base_url}/wp/v2/users/${e.id}`,e).then(t=>t.body.data).catch(t=>r.debug(t))}}}angular.module("lmp").factory("userFactory",t),t.$inject=["$http","$localStorage","$rootScope","$log"]}();
!function(){"use strict";function t(t,n){return{getComments:function(o){return t.get(`https://api.dailymotion.com/video/${o}/comments`).then(t=>t.data).catch(t=>n.debug(t))}}}angular.module("lmp").factory("videoCommentsFactory",t),t.$inject=["$http","$log"]}();
!function(){"use strict";function t(t,i){return{getVideo:function(e){return t.get(`https://api.dailymotion.com/video/${e}?fields=id,likes_total,embed_url,thumbnail_720_url,thumbnail_1080_url,title,views_total,duration,url,description&localization=detect`).then(t=>t.data).catch(t=>i.debug(t))}}}angular.module("lmp").factory("videoFactory",t),t.$inject=["$http","$log"]}();
!function(){"use strict";angular.module("lmp").component("videos",{bindings:{content:"<"},controller:["$timeout","videoFactory","$sce","videoCommentsFactory",function(t,e,i,n){this.list=[],this.current=0,this.$onInit=(()=>{this.pages=this.content.has_more?this.content.page+1:this.content.page,this.page=this.content.page;for(let t=0;t<this.content.list.length;t+=1)e.getVideo(this.content.list[t].id).then(t=>{t.embed_url=i.trustAsResourceUrl(`${t.embed_url.replace("http:","")}?autoplay=1&ui-highlight=ba4d3d&ui-logo=false`),t.thumbnail_720_url&&(t.thumbnail_720_url=t.thumbnail_720_url.replace("http:","")),t.thumbnail_1080_url&&(t.thumbnail_1080_url=t.thumbnail_1080_url.replace("http:","")),this.list.push(t)})}),this.play_video=(e=>{this.comments=!1,t(()=>{this.current=e,n.getComments(this.list[e].id).then(t=>{this.comments=t})})})}],templateUrl:"/views/videos.html"})}();
const videosConfig=()=>({url:"/videos?page",parent:"main",resolve:{content:["videosFactory","$stateParams","metaService",function(e,t,n){return e.getVideos(t.page||1).then(e=>(n.setProperties({title:"Videos | LMP"}),e))}]},views:{"content@main":{component:"videos",bindings:{content:"content"}}}});
!function(){"use strict";function t(t){return{getVideos:function(e){return t.get(`https://api.dailymotion.com/videos?user=LOMAXIMOPRODUCTIONS&limit=9&page=${e}`).then(t=>t.data).catch(t=>$log.debug(t))}}}angular.module("lmp").factory("videosFactory",t),t.$inject=["$http","$log"]}();
!function(){"use strict";angular.module("lmp").component("account",{controller:["$localStorage",function(t){this.storage=t}],templateUrl:"/views/account.html"})}();
const accountConfig=()=>({url:"/my-account",parent:"main",resolve:{auth:["protectFactory",t=>t.checkAuth()],meta:["metaService",t=>t.setProperties({title:"My Account | LMP",robots:"noindex"})]},views:{"content@main":{component:"account"}}});
!function(){"use strict";angular.module("lmp").component("changePassword",{controller:[()=>{}],templateUrl:"/views/change-password.html"})}();
const changePasswordConfig=()=>({url:"/change-password",parent:"main",resolve:{auth:["protectFactory",e=>e.checkAuth()],meta:["metaService",e=>e.setProperties({title:"Change Password | LMP"})]},views:{"content@main":{component:"changePassword"}}});
!function(){"use strict";function t(t,c,n){return{cancel:function(e){return t.put(`${n.base_url}/lmp-api/v1/cancel-subscription?order_id=${e}`).then(t=>t.data).catch(t=>c.debug(t))}}}angular.module("lmp").factory("cancelSubFactory",t),t.$inject=["$http","$log","$rootScope"]}();
!function(){"use strict";angular.module("lmp").component("checkout",{bindings:{order:"<"},controller:["cancelSubFactory","$state","$timeout",function(e,r,t){this.cancel=(()=>{e.cancel(this.order.order_id).then(e=>t(()=>{r.go("user-orders",{orderId:this.order.order_id})}))})}],templateUrl:"/views/checkout.html"})}();
const checkoutConfig=()=>({url:"/checkout?product_id&variation_id&coupon_code",parent:"main",resolve:{auth:["protectFactory",e=>e.checkAuth()],order:["createOrderFactory","$stateParams","metaService",(e,o,t)=>e.createOrder(o.product_id,o.variation_id,o.coupon_code).then(e=>(t.setProperties({title:"Checkout | LMP",robots:"noindex"}),e))]},views:{"content@main":{component:"checkout",bindings:{order:"order"}}}});
!function(){"use strict";function t(t,r,e){return{createOrder:function(o,c,a){let n=`${e.base_url}/lmp-api/v1/create-order-with-coupon?product_id=${o}`;c&&(n=`${n}&variation_id=${c}`);a&&(n=`${n}&coupon_code=${a}`);return t.post(n).then(t=>t.data).catch(t=>r.debug(t))}}}angular.module("lmp").factory("createOrderFactory",t),t.$inject=["$http","$log","$rootScope"]}();
!function(){"use strict";angular.module("lmp").component("reviewOrder",{bindings:{product:"<"},templateUrl:"/views/review-order.html"})}();
const reviewOrderConfig=()=>({url:"/review-order?product_id&variation_id",parent:"main",resolve:{auth:["protectFactory",e=>e.checkAuth()],meta:["metaService",e=>e.setProperties({title:"Review Order | LMP",robots:"noindex"})],product:["productFactory","$stateParams",(e,r)=>e.getProduct(r.product_id,r.variation_id)]},views:{"content@main":{component:"reviewOrder",bindings:{product:"product"}}}});
!function(){"use strict";angular.module("lmp").component("favorites",{bindings:{data:"<"},controller:["$localStorage",function(t){this.$onInit=(()=>{t.queue=this.data.content})}],templateUrl:"/views/favorites.html"})}();
const favoritesConfig=()=>({url:"/my-favorites?page",parent:"main",resolve:{auth:["protectFactory",t=>t.checkAuth()],meta:["metaService","$stateParams",(t,e)=>t.setProperties({title:`${e.page&&parseInt(e.page,10)>1?"Page "+e.page+" | ":""}My Favorites | LMP`,robots:"noindex"})],data:["favoritesFactory","$stateParams",function(t,e){return t.getFavorites(e.page||!1)}]},views:{"content@main":{component:"favorites",bindings:{data:"data"}}}});
!function(){"use strict";function t(t,e,a){return{getFavorites:function(o){return t.get(`${a.base_url}/lmp-api/v1/favourites${o?"?page="+o:""}`).then(t=>({pages:parseInt(t.headers("X-WP-TotalPages"),10),page:o||1,content:t.data})).catch(t=>e.debug(t))}}}angular.module("lmp").factory("favoritesFactory",t),t.$inject=["$http","$log","$rootScope"]}();
!function(){"use strict";angular.module("lmp").component("order",{bindings:{data:"<"},controller:["orderFactory","cancelSubFactory","$timeout","authFactory","$state","$stateParams","$localStorage","$location",function(e,t,a,s,o,c,i,r){this.$onInit=(()=>{if(r.search()["paypal-return"])switch(r.search()["paypal-return"]){case"cancel-checkout":this.message="<p>If you want to cancel this order please click the cancel button below.</p><p>If you don't want to cancel you can come back here at any time to complete the checkout process by clicking the checkout button below.</p>";break;case"complete":"active"===this.data.subscription_status?(this.status=!0,this.message="<p>Thanks for subscribing to the record pool! Please see below for links to download the app.</p>"):this.message="<p>Your subscription is not yet active. Please see below for available actions.</p>";break;case"incomplete":this.message="<p>Your subscription is not yet active. Please see below for available actions.</p>"}}),this.cancel=(()=>{t.cancel(this.data.order_id).then(t=>a(()=>{zenscroll.to(document.body,300),this.message=t.message,this.status=t.status,t.status&&e.getOrder(this.data.order_id).then(e=>a(()=>{this.data=e}))}))})}],templateUrl:"/views/order.html"})}();
const orderConfig=()=>({url:"/my-orders/:orderId",parent:"main",resolve:{auth:["protectFactory",r=>r.checkAuth()],data:["orderFactory","$stateParams","metaService",(r,e,t)=>r.getOrder(e.orderId).then(r=>(t.setProperties({title:`Order # ${e.orderId} | My Orders | LMP`,robots:"noindex"}),r))]},views:{"content@main":{component:"order",bindings:{data:"data"}}}});
!function(){"use strict";function t(t,r,e){return{getOrder:function(n){return t.get(`${e.base_url}/lmp-api/v1/order-staging?id=${n}`).then(t=>t.data).catch(t=>r.debug(t))}}}angular.module("lmp").factory("orderFactory",t),t.$inject=["$http","$log","$rootScope"]}();
!function(){"use strict";angular.module("lmp").component("orders",{bindings:{list:"<"},controller:["$location",function(e){e.search()["paypal-return"]&&(this.message="<p>There was a problem processing your order. Order was not found or invalid. Please contact iamlmp.</p>")}],templateUrl:"/views/orders.html"})}();
const ordersConfig=()=>({url:"/my-orders",parent:"main",resolve:{auth:["protectFactory",e=>e.checkAuth()],list:["ordersFactory","metaService",(e,r)=>e.getOrders().then(e=>(r.setProperties({title:"My Orders | LMP",robots:"noindex"}),e))]},views:{"content@main":{component:"orders",bindings:{list:"list"}}}});
!function(){"use strict";function t(t,r,e){return{getOrders:function(){return t.get(`${e.base_url}/lmp-api/v1/orders`).then(t=>t.data).catch(t=>r.debug(t))}}}angular.module("lmp").factory("ordersFactory",t),t.$inject=["$http","$log","$rootScope"]}();
!function(){"use strict";function t(t,e,l){return{remove:function(a){return t.put(`${l.base_url}/lmp-api/v1/delete-playlist/${a}`).then(t=>t.data).catch(t=>e.debug(t))}}}angular.module("lmp").factory("deletePlaylistFactory",t),t.$inject=["$http","$log","$rootScope"]}();
!function(){"use strict";function t(t,a,u){return{update:function(e,c){return t.put(`${u.base_url}/lmp-api/v1/update-playlist/${e}?tracks=${c}`).then(t=>t.data).catch(t=>a.debug(t))}}}angular.module("lmp").factory("updatePlaylistFactory",t),t.$inject=["$http","$log","$rootScope"]}();
!function(){"use strict";angular.module("lmp").component("userPlaylist",{bindings:{content:"<"},controller:["updatePlaylistFactory","$stateParams","$localStorage","$state","$timeout","ModalService",function(t,e,l,s,o,a){this.storage=l,this.$onInit=(()=>{l.queue=this.content.tracks}),this.re_cache=(t=>{this.storage.queue.length>0?this.storage.queue=t:this.storage.playlist=t}),this.sort_list={orderChanged:e=>{const l=this.content.id;let s=e.dest.sortableScope.modelValue.map(t=>t.id.replace("track-",""));t.update(l,s.join(",")).then(t=>{this.re_cache(t.tracks)})},containment:"#sort-list"},this.delete_track=(t=>a.showModal({templateUrl:"/views/modal.html",controller:"ModalController",controllerAs:"lmp_modal",inputs:{playlist:!1,playlist_track:{list:this.content,index:t}}}).then(t=>t.close.then(t=>{t&&(this.content.tracks=t,this.re_cache(t))}))),this.remove_playlist=(()=>a.showModal({templateUrl:"/views/modal.html",controller:"ModalController",controllerAs:"lmp_modal",inputs:{playlist_track:!1,playlist:this.content}}).then(t=>t.close.then(t=>{t&&s.go("user-playlists")})))}],templateUrl:"/views/user-playlist.html"})}();
const userPlaylistConfig=()=>({url:"/my-playlists/:slug",parent:"main",resolve:{auth:["protectFactory",t=>t.checkAuth()],content:["playlistFactory","$stateParams","metaService",(t,e,s)=>t.getPlaylist(e.slug).then(t=>(s.setProperties({title:`${t.title} | My Playlists | LMP`,robots:"noindex"}),t))]},views:{"content@main":{component:"userPlaylist",bindings:{content:"content"}}}});
!function(){"use strict";angular.module("lmp").component("userPlaylists",{bindings:{playlists:"<"},templateUrl:"/views/user-playlists.html"})}();
const userPlaylistsConfig=()=>({url:"/my-playlists",parent:"main",resolve:{auth:["protectFactory",t=>t.checkAuth()],meta:["metaService",t=>t.setProperties({title:"My Profile | LMP",robots:"noindex"})],playlists:["userPlaylistsFactory",t=>t.getList()]},views:{"content@main":{component:"userPlaylists",bindings:{playlists:"playlists"}}}});
!function(){"use strict";function t(t,e,r){return{getList:function(u){return t.get(`${r.base_url}/lmp-api/v1/user-playlists`).then(t=>t.data).catch(t=>e.debug(t))}}}angular.module("lmp").factory("userPlaylistsFactory",t),t.$inject=["$http","$log","$rootScope"]}();
!function(){"use strict";function t(t,s){this.tracks=t.content,this.storage=s,this.page=t.page,this.pages=t.pages,this.storage.queue=this.storage.queue.concat(this.tracks)}angular.module("lmp").controller("HistoryController",t),t.$inject=["songs","$localStorage"]}();
!function(){"use strict";function t(t,e,a){return{getHistory:function(o){return t.get(`${a.base_url}/lmp-api/v1/history${o?"?page="+o:""}`).then(t=>({pages:t.headers("X-WP-TotalPages"),page:o||1,content:t.data})).catch(t=>e.debug(t))}}}angular.module("lmp").factory("historyFactory",t),t.$inject=["$http","$log","$rootScope"]}();
!function(){"use strict";angular.module("lmp").component("profile",{bindings:{profile:"<"},controller:["userFactory","authFactory","$rootScope","$scope","$stateParams","$localStorage","$state","$timeout",function(t,e,o,i,r,a,l,p){this.storage=a,this.update_profile=(()=>p(()=>{this.updating=!0,t.updateUser(this.profile).then(t=>{e.profile().then(t=>p(()=>{a.profile=t,this.updating=!1}))})}))}],templateUrl:"/views/profile.html"})}();
const profileConfig=()=>({url:"/my-profile",parent:"main",resolve:{auth:["protectFactory",e=>e.checkAuth()],profile:["authFactory",e=>e.profileFull()],meta:["metaService",e=>e.setProperties({title:"My Profile | LMP",robots:"noindex"})]},views:{"content@main":{component:"profile",bindings:{profile:"profile"}}}});
angular.bootstrap(document,["lmp"],{strictDi:!0});