<section class="lmp-player">
  <div
    class="progress-small"
    data-ng-if="$ctrl.storage.current && $ctrl.layout.mobile"
    data-ng-style="{ width: $ctrl.display.width + '%' }"
  ></div>
  <a href="/queue" class="player-control queue">Music Queue </a
  ><button class="player-control previous" data-ng-click="$ctrl.skip( 'prev' )">
    Previous track
  </button>
  <button
    class="player-control toggle"
    data-ng-attr-data-id="{{ $ctrl.storage.current.id }}"
    data-ng-click="$ctrl.toggle_audio()"
    data-ng-class="{playing: $ctrl.storage.state === 'playing'}"
  >
    <svg
      class="circular"
      viewbox="25 25 50 50"
      data-ng-if="$ctrl.storage.state === 'loading'"
    >
      <circle
        class="path"
        cx="50"
        cy="50"
        r="20"
        fill="none"
        stroke-width="10"
        stroke-miterlimit="10"
      />
    </svg>
  </button>
  <button class="player-control next" data-ng-click="$ctrl.skip( 'next' )">
    Next track
  </button>
  <div
    class="progress"
    data-ng-if="$ctrl.storage.current && ! $ctrl.layout.mobile && $ctrl.storage.current.id !== 'lmp-radio'"
    data-ng-show="$ctrl.storage.current"
  >
    <div class="current-time">
      <span
        data-ng-bind="$ctrl.display.progress"
        data-ng-if="$ctrl.display.progress"
      ></span>
    </div>
    <div class="lmp-range-container">
      <data-rzslider
        data-rz-slider-model="$ctrl.display.width"
        data-rz-slider-options="$ctrl.scrubber"
      ></data-rzslider>
    </div>
    <div class="total-duration">
      <span
        data-ng-bind="$ctrl.display.duration"
        data-ng-if="$ctrl.display.duration"
      ></span>
    </div>
  </div>
  <div
    id="playing-info"
    data-ng-if="$ctrl.storage.current"
    data-ng-class="{ mobile: $ctrl.layout.mobile }"
  >
    <div class="current-artwork">
      <img
        data-ng-src="{{$ctrl.storage.current.artwork}}"
        data-ng-attr-alt="{{$ctrl.storage.current.title}}"
      />
    </div>
    <button
      class="current"
      data-ng-attr-data-id="{{$ctrl.storage.current.id}}"
      data-ng-click="$ctrl.toggle_current()"
      data-ng-if="$ctrl.storage.current.id !== 'lmp-radio'"
    >
      View current track
    </button>
    <div class="current-details" data-ng-if="!$ctrl.layout.mobile">
      <h3 data-ng-bind-html="$ctrl.storage.current.title"></h3>
      <p data-ng-bind-html="$ctrl.storage.current.artists"></p>
    </div>
  </div>
</section>
